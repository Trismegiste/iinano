<!doctype html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="http://openlayers.org/en/v3.0.0/css/ol.css" type="text/css">
        <style>
            .map {
                height: 400px;
                width: 100%;
            }
            #iwashere {
                width: 20px;
                height: 20px;
                border: 1px solid #088;
                border-radius: 10px;
                background-color: #F00;
                opacity: 0.5;
            }
        </style>
        <script src="http://openlayers.org/en/v3.0.0/build/ol.js" type="text/javascript"></script>
        <title>OpenLayers 3 example</title>
    </head>
    <body>
        <h2>My Map</h2>
        <div style="display: none;"><div id="iwashere"></div></div>
        <div id="map" class="map"></div>

        <script type="text/javascript">

            var view = new ol.View({
                center: [0, 0],
                zoom: 2
            });

            var map = new ol.Map({
                layers: [
                    new ol.layer.Tile({
                        source: new ol.source.OSM()
                    })
                ],
                target: 'map',
                controls: ol.control.defaults({
                    attributionOptions: /** @type {olx.control.AttributionOptions} */ ({
                        collapsible: false
                    })
                }),
                view: view
            });

            var marker = new ol.Overlay({
                positioning: 'center-center',
                element: document.getElementById('iwashere'),
                stopEvent: false
            });
            map.addOverlay(marker);

            var geolocation = new ol.Geolocation({
                projection: view.getProjection(),
                tracking: true
            });
            geolocation.once('change:position', function() {
                view.setCenter(geolocation.getPosition());
                view.setResolution(3);
                marker.setPosition(geolocation.getPosition());
            });

            // handle geolocation error.
            geolocation.on('error', function(error) {
                var info = document.getElementById('info');
                info.innerHTML = error.message;
                info.style.display = '';
            });

        </script>
    </body>
</html>